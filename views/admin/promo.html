<h2>User Management</h2>

<div class="box">
	<table>
		<tbody>
			<tr>
				<th class="col1">Username</th>
				<th class="col2">Email</th>
				<th class="col3">Researcher powers</th>
				<th class="col4">Admin powers</th>
			</tr>
			{{highlight=True}}
			
				{{for uid in promo:}}
			<tr class="{{='highlight' if highlight else ''}}">
				
				<td>{{=(str(db(db.auth_user.id==uid).select(db.auth_user.first_name))).split('\n')[1] +
				(str(db(db.auth_user.id==uid).select(db.auth_user.last_name))).split('\n')[1]}}</td>
				
				<td>{{=(str(db(db.auth_user.id==uid).select(db.auth_user.email))).split('\n')[1]}}</td>
				
				<td class="action">
					<ul style="width:75px;">
						<li>{{=A('', _class="add", _title="Promote to researcher", callback=URL('addrsc', args=[uid]), target="content")}}</li>
						<li>{{=A('', _class="delete", _title="Revoke researcher privileges", callback=URL('rvkrsc', args=[uid]), target="content")}}</li>
					</ul>
				</td>
				
				<td class="action">
					<ul style="width:75px;">
						<li>{{=A('', _class="add", _title="Promote to admin", callback=URL('addadm', args=[uid]), target="content")}}</li>
						<li>{{=A('', _class="delete", _title="Revoke admin privileges", callback=URL('rvkadm', args=[uid]), target="content")}}</li>
					</ul>
				</td>
			</tr>
				{{highlight = not highlight}}
				{{pass}}

		</tbody>
	</table>

	

</div>

<br>
<div id="message">

</div>
